<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nadim Muhammad, Michał Kulbat">
<meta name="dcterms.date" content="2025-02-05">

<title>Project for Reproducible Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="project_RR_files/libs/clipboard/clipboard.min.js"></script>
<script src="project_RR_files/libs/quarto-html/quarto.js"></script>
<script src="project_RR_files/libs/quarto-html/popper.min.js"></script>
<script src="project_RR_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="project_RR_files/libs/quarto-html/anchor.min.js"></script>
<link href="project_RR_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="project_RR_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="project_RR_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="project_RR_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="project_RR_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project for Reproducible Research</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nadim Muhammad, Michał Kulbat </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 5, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="importing-libraries-and-loading-dataset" class="level1">
<h1>1. Importing libraries and loading dataset</h1>
<p>(install Rtools43 first: https://cran.r-project.org/bin/windows/Rtools/rtools43/rtools.html)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usethis)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"dongyuanwu/RSBID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tictoc) <span class="co">#for checking the training time of models</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot) <span class="co">#visualization of correlation matrix</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) <span class="co">#to tidy messy data</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2) <span class="co">#For creating correlation matrix for heatmap</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co">#Tables, heatmaps, etc.</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast) <span class="co">#forecast for simple models</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co">#data manipulation</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr) <span class="co"># %&gt;% pipeline</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formattable) <span class="co">#data manipulation</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Metrics) <span class="co">#metrics</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#complex tables, "kable" pipe syntax, helpfull in some cases</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kernlab) <span class="co">#for SVM</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MLmetrics) <span class="co">#metrics for machine learning (similar to Metrics library)</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(e1071) <span class="co">#svm</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest) <span class="co">#we need it for RandomForest</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ranger) <span class="co">#we need it for RandomForest</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xgboost) <span class="co">#xgboost model</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret) <span class="co">#precision metrics, knn</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies) <span class="co">#dummy variables</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSBID) <span class="co">#We will need SMOTE_NC from it</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#collection of packages for data science</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Data loading:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rain_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"weatherAUS.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Date Location MinTemp MaxTemp Rainfall Evaporation Sunshine
145455 2017-06-20    Uluru     3.5    21.8        0          NA       NA
145456 2017-06-21    Uluru     2.8    23.4        0          NA       NA
145457 2017-06-22    Uluru     3.6    25.3        0          NA       NA
145458 2017-06-23    Uluru     5.4    26.9        0          NA       NA
145459 2017-06-24    Uluru     7.8    27.0        0          NA       NA
145460 2017-06-25    Uluru    14.9      NA        0          NA       NA
       WindGustDir WindGustSpeed WindDir9am WindDir3pm WindSpeed9am
145455           E            31        ESE          E           15
145456           E            31         SE        ENE           13
145457         NNW            22         SE          N           13
145458           N            37         SE        WNW            9
145459          SE            28        SSE          N           13
145460        &lt;NA&gt;            NA        ESE        ESE           17
       WindSpeed3pm Humidity9am Humidity3pm Pressure9am Pressure3pm Cloud9am
145455           13          59          27      1024.7      1021.2       NA
145456           11          51          24      1024.6      1020.3       NA
145457            9          56          21      1023.5      1019.1       NA
145458            9          53          24      1021.0      1016.8       NA
145459            7          51          24      1019.4      1016.5        3
145460           17          62          36      1020.2      1017.9        8
       Cloud3pm Temp9am Temp3pm RainToday RainTomorrow
145455       NA     9.4    20.9        No           No
145456       NA    10.1    22.4        No           No
145457       NA    10.9    24.5        No           No
145458       NA    12.5    26.1        No           No
145459        2    15.1    26.0        No           No
145460        8    15.0    20.9        No         &lt;NA&gt;</code></pre>
</div>
</div>
</section>
<section id="exploration-and-preprocessing" class="level1">
<h1>2. Exploration and preprocessing</h1>
<section id="raintomorrow-distribution" class="level2">
<h2 class="anchored" data-anchor-id="raintomorrow-distribution">2.1. RainTomorrow distribution</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the original shape of the dataset (rows, columns)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 145460     23</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing data in target variable</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(rain_df<span class="sc">$</span>RainTomorrow))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3267</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the data not including target variable since using them may later negativley influence the model</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>rain_df <span class="ot">&lt;-</span> rain_df <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(<span class="st">"RainTomorrow"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 142193     23</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check distribution, look if balanced/imbalanced</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(rain_df<span class="sc">$</span>RainTomorrow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    No    Yes 
110316  31877 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualise distibution to check the impalance</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(rain_df<span class="sc">$</span>RainTomorrow)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is a class imbalance in <strong>RainTommorow</strong> - Our target variable is imbalanced.</p>
<p>The data will be transformed from categorical into a numerical for process convinience where 1 will mean that it will rain tomorrow and 0 that it will not rain</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace objects Yes with 1 and No with 0</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>rain_df[<span class="st">"RainTomorrow"</span>][rain_df[<span class="st">"RainTomorrow"</span>] <span class="sc">==</span> <span class="st">"Yes"</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>rain_df[<span class="st">"RainTomorrow"</span>][rain_df[<span class="st">"RainTomorrow"</span>] <span class="sc">==</span> <span class="st">"No"</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>RainTomorrow <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(rain_df<span class="sc">$</span>RainTomorrow)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>rain_df[<span class="st">"RainTomorrow"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-tpyes" class="level2">
<h2 class="anchored" data-anchor-id="data-tpyes">2.2. Data tpyes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for data type and data amount in columns.</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   142193 obs. of  23 variables:
 $ Date         : chr  "2008-12-01" "2008-12-02" "2008-12-03" "2008-12-04" ...
 $ Location     : chr  "Albury" "Albury" "Albury" "Albury" ...
 $ MinTemp      : num  13.4 7.4 12.9 9.2 17.5 14.6 14.3 7.7 9.7 13.1 ...
 $ MaxTemp      : num  22.9 25.1 25.7 28 32.3 29.7 25 26.7 31.9 30.1 ...
 $ Rainfall     : num  0.6 0 0 0 1 0.2 0 0 0 1.4 ...
 $ Evaporation  : num  NA NA NA NA NA NA NA NA NA NA ...
 $ Sunshine     : num  NA NA NA NA NA NA NA NA NA NA ...
 $ WindGustDir  : chr  "W" "WNW" "WSW" "NE" ...
 $ WindGustSpeed: int  44 44 46 24 41 56 50 35 80 28 ...
 $ WindDir9am   : chr  "W" "NNW" "W" "SE" ...
 $ WindDir3pm   : chr  "WNW" "WSW" "WSW" "E" ...
 $ WindSpeed9am : int  20 4 19 11 7 19 20 6 7 15 ...
 $ WindSpeed3pm : int  24 22 26 9 20 24 24 17 28 11 ...
 $ Humidity9am  : int  71 44 38 45 82 55 49 48 42 58 ...
 $ Humidity3pm  : int  22 25 30 16 33 23 19 19 9 27 ...
 $ Pressure9am  : num  1008 1011 1008 1018 1011 ...
 $ Pressure3pm  : num  1007 1008 1009 1013 1006 ...
 $ Cloud9am     : int  8 NA NA NA 7 NA 1 NA NA NA ...
 $ Cloud3pm     : int  NA NA 2 NA 8 NA NA NA NA NA ...
 $ Temp9am      : num  16.9 17.2 21 18.1 17.8 20.6 18.1 16.3 18.3 20.1 ...
 $ Temp3pm      : num  21.8 24.3 23.2 26.5 29.7 28.9 24.6 25.5 30.2 28.2 ...
 $ RainToday    : chr  "No" "No" "No" "No" ...
 $ RainTomorrow : num  0 0 0 0 0 0 0 0 1 0 ...</code></pre>
</div>
</div>
<p>We can see that there are 23 variables in which:</p>
<p><strong>1 Date:</strong> Date</p>
<p><strong>7 Integer:</strong> Cloud9am, Cloud3pm, WindSpeed9am, WindSpeed3pm, Humidity9am, Humidity3pm, WindGustSpeed.</p>
<p><strong>5 Character:</strong> Location, WindGustDir, WindDir9am, WindDir3pm ,RainToday.</p>
<p><strong>9 Numerical:</strong> Temp9am, Temp3pm, Pressure9am, Pressure3pm, MinTemp, MaxTemp, Rainfall, Evaporation, Sunshine, RainTomorrow.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for unique data for Categorical in order to decide weather one hot encoding is viable option.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(rain_df)[<span class="dv">2</span>])</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">colnames</span>(rain_df[i]))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">n_distinct</span>(rain_df[,i]))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"
[1] 3436
[1] "Location"
[1] 49
[1] "MinTemp"
[1] 390
[1] "MaxTemp"
[1] 506
[1] "Rainfall"
[1] 680
[1] "Evaporation"
[1] 357
[1] "Sunshine"
[1] 146
[1] "WindGustDir"
[1] 17
[1] "WindGustSpeed"
[1] 68
[1] "WindDir9am"
[1] 17
[1] "WindDir3pm"
[1] 17
[1] "WindSpeed9am"
[1] 44
[1] "WindSpeed3pm"
[1] 45
[1] "Humidity9am"
[1] 102
[1] "Humidity3pm"
[1] 102
[1] "Pressure9am"
[1] 547
[1] "Pressure3pm"
[1] 550
[1] "Cloud9am"
[1] 11
[1] "Cloud3pm"
[1] 11
[1] "Temp9am"
[1] 441
[1] "Temp3pm"
[1] 501
[1] "RainToday"
[1] 3
[1] "RainTomorrow"
[1] 2</code></pre>
</div>
</div>
<p><strong>Character</strong> data have to be further transofrmed in order to be used in the model.</p>
</section>
<section id="search-for-invalid-and-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="search-for-invalid-and-missing-data">2.3. Search for invalid and missing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look for invalid data</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Date             Location            MinTemp         MaxTemp     
 Length:142193      Length:142193      Min.   :-8.50   Min.   :-4.80  
 Class :character   Class :character   1st Qu.: 7.60   1st Qu.:17.90  
 Mode  :character   Mode  :character   Median :12.00   Median :22.60  
                                       Mean   :12.19   Mean   :23.23  
                                       3rd Qu.:16.80   3rd Qu.:28.20  
                                       Max.   :33.90   Max.   :48.10  
                                       NA's   :637     NA's   :322    
    Rainfall       Evaporation        Sunshine     WindGustDir       
 Min.   :  0.00   Min.   :  0.00   Min.   : 0.00   Length:142193     
 1st Qu.:  0.00   1st Qu.:  2.60   1st Qu.: 4.90   Class :character  
 Median :  0.00   Median :  4.80   Median : 8.50   Mode  :character  
 Mean   :  2.35   Mean   :  5.47   Mean   : 7.62                     
 3rd Qu.:  0.80   3rd Qu.:  7.40   3rd Qu.:10.60                     
 Max.   :371.00   Max.   :145.00   Max.   :14.50                     
 NA's   :1406     NA's   :60843    NA's   :67816                     
 WindGustSpeed     WindDir9am         WindDir3pm         WindSpeed9am 
 Min.   :  6.00   Length:142193      Length:142193      Min.   :  0   
 1st Qu.: 31.00   Class :character   Class :character   1st Qu.:  7   
 Median : 39.00   Mode  :character   Mode  :character   Median : 13   
 Mean   : 39.98                                         Mean   : 14   
 3rd Qu.: 48.00                                         3rd Qu.: 19   
 Max.   :135.00                                         Max.   :130   
 NA's   :9270                                           NA's   :1348  
  WindSpeed3pm    Humidity9am      Humidity3pm      Pressure9am    
 Min.   : 0.00   Min.   :  0.00   Min.   :  0.00   Min.   : 980.5  
 1st Qu.:13.00   1st Qu.: 57.00   1st Qu.: 37.00   1st Qu.:1012.9  
 Median :19.00   Median : 70.00   Median : 52.00   Median :1017.6  
 Mean   :18.64   Mean   : 68.84   Mean   : 51.48   Mean   :1017.7  
 3rd Qu.:24.00   3rd Qu.: 83.00   3rd Qu.: 66.00   3rd Qu.:1022.4  
 Max.   :87.00   Max.   :100.00   Max.   :100.00   Max.   :1041.0  
 NA's   :2630    NA's   :1774     NA's   :3610     NA's   :14014   
  Pressure3pm        Cloud9am        Cloud3pm        Temp9am     
 Min.   : 977.1   Min.   :0.00    Min.   :0.0     Min.   :-7.20  
 1st Qu.:1010.4   1st Qu.:1.00    1st Qu.:2.0     1st Qu.:12.30  
 Median :1015.2   Median :5.00    Median :5.0     Median :16.70  
 Mean   :1015.3   Mean   :4.44    Mean   :4.5     Mean   :16.99  
 3rd Qu.:1020.0   3rd Qu.:7.00    3rd Qu.:7.0     3rd Qu.:21.60  
 Max.   :1039.6   Max.   :9.00    Max.   :9.0     Max.   :40.20  
 NA's   :13981    NA's   :53657   NA's   :57094   NA's   :904    
    Temp3pm       RainToday          RainTomorrow   
 Min.   :-5.40   Length:142193      Min.   :0.0000  
 1st Qu.:16.60   Class :character   1st Qu.:0.0000  
 Median :21.10   Mode  :character   Median :0.0000  
 Mean   :21.69                      Mean   :0.2242  
 3rd Qu.:26.40                      3rd Qu.:0.0000  
 Max.   :46.70                      Max.   :1.0000  
 NA's   :2726                                       </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look for missing data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(rain_df)[<span class="dv">2</span>])</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">colnames</span>(rain_df[i]))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(rain_df[,i])))</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"
[1] 0
[1] "Location"
[1] 0
[1] "MinTemp"
[1] 637
[1] "MaxTemp"
[1] 322
[1] "Rainfall"
[1] 1406
[1] "Evaporation"
[1] 60843
[1] "Sunshine"
[1] 67816
[1] "WindGustDir"
[1] 9330
[1] "WindGustSpeed"
[1] 9270
[1] "WindDir9am"
[1] 10013
[1] "WindDir3pm"
[1] 3778
[1] "WindSpeed9am"
[1] 1348
[1] "WindSpeed3pm"
[1] 2630
[1] "Humidity9am"
[1] 1774
[1] "Humidity3pm"
[1] 3610
[1] "Pressure9am"
[1] 14014
[1] "Pressure3pm"
[1] 13981
[1] "Cloud9am"
[1] 53657
[1] "Cloud3pm"
[1] 57094
[1] "Temp9am"
[1] 904
[1] "Temp3pm"
[1] 2726
[1] "RainToday"
[1] 1406
[1] "RainTomorrow"
[1] 0</code></pre>
</div>
</div>
<p>There seems to be a lot of missing data epsepcially in: <strong>Evaporation, Sunshine, Cloud9am, and Cloud3pm</strong></p>
<p>It seems that variables <strong>Rainfall, Evaporation, WindGustSpeed, WindSpeed9am, WindSpeed3pm</strong> have very high difference betwen the mean and max value we will investigate this data using box plot.</p>
</section>
<section id="handling-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="handling-missing-data">2.4. Handling missing data</h2>
<p>IMPORTANT: We decided to limit our test and training data to those where ‘Sunshine’ variable is not null in order to reduce the amount of data used and to lower the number of null values in whole dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>rain_df <span class="ot">&lt;-</span> rain_df <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(<span class="fu">c</span>(<span class="st">"Sunshine"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(rain_df)[<span class="dv">2</span>])</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">colnames</span>(rain_df[i]))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(rain_df[,i])))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"
[1] 0
[1] "Location"
[1] 0
[1] "MinTemp"
[1] 97
[1] "MaxTemp"
[1] 47
[1] "Rainfall"
[1] 395
[1] "Evaporation"
[1] 3959
[1] "Sunshine"
[1] 0
[1] "WindGustDir"
[1] 4377
[1] "WindGustSpeed"
[1] 4354
[1] "WindDir9am"
[1] 2677
[1] "WindDir3pm"
[1] 680
[1] "WindSpeed9am"
[1] 171
[1] "WindSpeed3pm"
[1] 391
[1] "Humidity9am"
[1] 400
[1] "Humidity3pm"
[1] 575
[1] "Pressure9am"
[1] 133
[1] "Pressure3pm"
[1] 138
[1] "Cloud9am"
[1] 7898
[1] "Cloud3pm"
[1] 9484
[1] "Temp9am"
[1] 129
[1] "Temp3pm"
[1] 327
[1] "RainToday"
[1] 395
[1] "RainTomorrow"
[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fill missing data for numeric attributes with mean and median (if there are outliers [max values are much bigger than mean values] in our attribute we will use median)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Temp3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Temp3pm)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Temp3pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Temp9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Temp9am)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Temp9am, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Cloud3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Cloud3pm)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Cloud3pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Cloud9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Cloud9am)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Cloud9am, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Pressure3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Pressure3pm)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Pressure3pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Pressure9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Pressure9am)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Pressure9am, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Humidity3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Humidity3pm)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Humidity3pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Humidity9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Humidity9am)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Humidity9am, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindSpeed3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindSpeed3pm)] <span class="ot">&lt;-</span> <span class="fu">median</span>(rain_df<span class="sc">$</span>WindSpeed3pm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindSpeed9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindSpeed9am)] <span class="ot">&lt;-</span> <span class="fu">median</span>(rain_df<span class="sc">$</span>WindSpeed9am, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustSpeed[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindGustSpeed)] <span class="ot">&lt;-</span> <span class="fu">median</span>(rain_df<span class="sc">$</span>WindGustSpeed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Sunshine[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Sunshine)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(rain_df<span class="sc">$</span>Sunshine, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>RainToday[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>RainToday)] <span class="ot">&lt;-</span> <span class="fu">mode</span>(rain_df<span class="sc">$</span>RainToday)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Evaporation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Evaporation), <span class="fu">median</span>(rain_df<span class="sc">$</span>Evaporation, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), rain_df<span class="sc">$</span>Evaporation)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Rainfall <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rain_df<span class="sc">$</span>Rainfall), <span class="fu">median</span>(rain_df<span class="sc">$</span>Rainfall, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), rain_df<span class="sc">$</span>Rainfall)</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>MaxTemp <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rain_df<span class="sc">$</span>MaxTemp), <span class="fu">mean</span>(rain_df<span class="sc">$</span>MaxTemp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), rain_df<span class="sc">$</span>MaxTemp)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>MinTemp <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rain_df<span class="sc">$</span>MinTemp), <span class="fu">mean</span>(rain_df<span class="sc">$</span>MinTemp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), rain_df<span class="sc">$</span>MinTemp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look for missing data again</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(rain_df)[<span class="dv">2</span>])</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">colnames</span>(rain_df[i]))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(rain_df[,i])))</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"
[1] 0
[1] "Location"
[1] 0
[1] "MinTemp"
[1] 0
[1] "MaxTemp"
[1] 0
[1] "Rainfall"
[1] 0
[1] "Evaporation"
[1] 0
[1] "Sunshine"
[1] 0
[1] "WindGustDir"
[1] 4377
[1] "WindGustSpeed"
[1] 0
[1] "WindDir9am"
[1] 2677
[1] "WindDir3pm"
[1] 680
[1] "WindSpeed9am"
[1] 0
[1] "WindSpeed3pm"
[1] 0
[1] "Humidity9am"
[1] 0
[1] "Humidity3pm"
[1] 0
[1] "Pressure9am"
[1] 0
[1] "Pressure3pm"
[1] 0
[1] "Cloud9am"
[1] 0
[1] "Cloud3pm"
[1] 0
[1] "Temp9am"
[1] 0
[1] "Temp3pm"
[1] 0
[1] "RainToday"
[1] 0
[1] "RainTomorrow"
[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of data after dropping sunshine variable na</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 74377    23</code></pre>
</div>
</div>
</section>
<section id="handling-the-outliers" class="level2">
<h2 class="anchored" data-anchor-id="handling-the-outliers">2.5. Handling the outliers</h2>
<section id="rainfall" class="level3">
<h3 class="anchored" data-anchor-id="rainfall">Rainfall</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for outliers using Box Plot</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Rainfall <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check on histogram</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>Rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use IQR to define range of valid data </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>Rainfall, <span class="fl">0.25</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>Rainfall, <span class="fl">0.75</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>Low <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>High <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25% 
-1.2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(High)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>75% 
  2 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of outliers </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>count1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>Rainfall <span class="sc">&gt;</span> High)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>count2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>Rainfall <span class="sc">&lt;</span> Low)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>count3 <span class="ot">&lt;-</span> count1 <span class="sc">+</span> count2</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13344</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We decided to censor our data to value of 75, because our variable is not normally distributed (high density of data near 0)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Rainfall[rain_df<span class="sc">$</span>Rainfall <span class="sc">&gt;</span> <span class="dv">75</span>] <span class="ot">&lt;-</span> <span class="dv">75</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check changes on histogram</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>Rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check Box Plot again</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Rainfall <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="evaporation" class="level3">
<h3 class="anchored" data-anchor-id="evaporation">Evaporation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for outliers using Box Plot</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Evaporation <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check on histogram</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>Evaporation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use IQR to define range of valid data </span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>Evaporation, <span class="fl">0.25</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>Evaporation, <span class="fl">0.75</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>Low <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>High <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25% 
-3.5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(High)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 75% 
13.3 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of outliers </span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>count1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>Evaporation <span class="sc">&gt;</span> High)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>count2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>Evaporation <span class="sc">&lt;</span> Low)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>count3 <span class="ot">&lt;-</span> count1 <span class="sc">+</span> count2</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2017</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change outliers respectivley to upper boundry since (relativley) there is not too many outliers</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Evaporation[rain_df<span class="sc">$</span>Evaporation <span class="sc">&gt;</span> High] <span class="ot">&lt;-</span> High</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check changes on histogram</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>Evaporation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check Box Plot again</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Evaporation <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="windgustspeed" class="level3">
<h3 class="anchored" data-anchor-id="windgustspeed">WindGustSpeed</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for outliers using Box Plot</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindGustSpeed <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check on histogram</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindGustSpeed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use IQR to define range of valid data </span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindGustSpeed, <span class="fl">0.25</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindGustSpeed, <span class="fl">0.75</span>)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>Low <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>High <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>25% 
5.5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(High)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 75% 
73.5 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of outliers </span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>count1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindGustSpeed <span class="sc">&gt;</span> High)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>count2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindGustSpeed <span class="sc">&lt;</span> Low)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>count3 <span class="ot">&lt;-</span> count1 <span class="sc">+</span> count2</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1703</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change outliers respectivley to upper boundry since (relativley) there is not too many outliers</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustSpeed[rain_df<span class="sc">$</span>WindGustSpeed <span class="sc">&gt;</span> High] <span class="ot">&lt;-</span> High</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check changes on histogram</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindGustSpeed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check Box Plot again</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindGustSpeed <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="windspeed9am" class="level3">
<h3 class="anchored" data-anchor-id="windspeed9am">WindSpeed9am</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for outliers using Box Plot</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindSpeed9am <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check on histogram</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindSpeed9am)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use IQR to define range of valid data </span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindSpeed9am, <span class="fl">0.25</span>)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindSpeed9am, <span class="fl">0.75</span>)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>Low <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>High <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25% 
-7.5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(High)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 75% 
36.5 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of outliers </span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>count1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindSpeed9am <span class="sc">&gt;</span> High)</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>count2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindSpeed9am <span class="sc">&lt;</span> Low)</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>count3 <span class="ot">&lt;-</span> count1 <span class="sc">+</span> count2</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1374</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change outliers respectivley to upper boundry since (relativley) there is not too many outliers</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindSpeed9am[rain_df<span class="sc">$</span>WindSpeed9am <span class="sc">&gt;</span> High] <span class="ot">&lt;-</span> High</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check changes on histogram</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindSpeed9am)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check Box Plot again</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindSpeed9am <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="windspeed3pm" class="level3">
<h3 class="anchored" data-anchor-id="windspeed3pm">WindSpeed3pm</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for outliers using Box Plot</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindSpeed3pm <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check on histogram</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindSpeed3pm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use IQR to define range of valid data </span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindSpeed3pm, <span class="fl">0.25</span>)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(rain_df<span class="sc">$</span>WindSpeed3pm, <span class="fl">0.75</span>)</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>Low <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>High <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> IQR <span class="sc">*</span> <span class="fl">1.5</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 25% 
-3.5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(High)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 75% 
40.5 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the amount of outliers </span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>count1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindSpeed3pm <span class="sc">&gt;</span> High)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>count2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(rain_df<span class="sc">$</span>WindSpeed3pm <span class="sc">&lt;</span> Low)</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>count3 <span class="ot">&lt;-</span> count1 <span class="sc">+</span> count2</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1273</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change outliers respectivley to upper boundry since (relativley) there is not too many outliers</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindSpeed3pm[rain_df<span class="sc">$</span>WindSpeed3pm <span class="sc">&gt;</span> High] <span class="ot">&lt;-</span> High</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check changes on histogram</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(rain_df<span class="sc">$</span>WindSpeed3pm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check Box Plot again</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(WindSpeed3pm <span class="sc">~</span> RainTomorrow, <span class="at">data =</span> rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There was a lot of outliers in variables <strong>Rainfall, Evaporation, WindGustSpeed, WindSpeed9am, WindSpeed3pm</strong> after further investigation we decided to change the outstanding values, using IQR in order to determine the maximal and minimal value we changed the data respectivley.</p>
</section>
</section>
<section id="data-simplification" class="level2">
<h2 class="anchored" data-anchor-id="data-simplification">2.6. Data Simplification</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Since the wind direction were wide spread and very specific we decided to simplify the data by puting them into categories based on dominant direction, filled the missing data for wind direction using mode.</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NNW"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NNE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"N"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"ENE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"ESE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"E"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SSE"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SSW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"s"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"WSW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"WNW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-17"><a href="#cb98-17" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-18"><a href="#cb98-18" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"W"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-19"><a href="#cb98-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-20"><a href="#cb98-20" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NNW"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-21"><a href="#cb98-21" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NNE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-22"><a href="#cb98-22" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-23"><a href="#cb98-23" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"N"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-24"><a href="#cb98-24" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"ENE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-25"><a href="#cb98-25" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"ESE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-26"><a href="#cb98-26" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-27"><a href="#cb98-27" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"E"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-28"><a href="#cb98-28" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SSE"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-29"><a href="#cb98-29" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SSW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-30"><a href="#cb98-30" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"SW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-31"><a href="#cb98-31" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"s"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-32"><a href="#cb98-32" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"WSW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-33"><a href="#cb98-33" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"WNW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-34"><a href="#cb98-34" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"NW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-35"><a href="#cb98-35" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[rain_df<span class="sc">$</span>WindDir9am <span class="sc">==</span> <span class="st">"W"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-36"><a href="#cb98-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-37"><a href="#cb98-37" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"NNW"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-38"><a href="#cb98-38" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"NNE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-39"><a href="#cb98-39" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"NE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-40"><a href="#cb98-40" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"N"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-41"><a href="#cb98-41" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"ENE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-42"><a href="#cb98-42" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"ESE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-43"><a href="#cb98-43" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"SE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-44"><a href="#cb98-44" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"E"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-45"><a href="#cb98-45" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"SSE"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-46"><a href="#cb98-46" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"SSW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-47"><a href="#cb98-47" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"SW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-48"><a href="#cb98-48" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"S"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-49"><a href="#cb98-49" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"WSW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-50"><a href="#cb98-50" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"WNW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-51"><a href="#cb98-51" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"NW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-52"><a href="#cb98-52" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[rain_df<span class="sc">$</span>WindDir3pm <span class="sc">==</span> <span class="st">"W"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-53"><a href="#cb98-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-54"><a href="#cb98-54" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"NNW"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-55"><a href="#cb98-55" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"NNE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-56"><a href="#cb98-56" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"NE"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-57"><a href="#cb98-57" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"N"</span>] <span class="ot">&lt;-</span> <span class="st">"N"</span></span>
<span id="cb98-58"><a href="#cb98-58" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"ENE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-59"><a href="#cb98-59" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"ESE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-60"><a href="#cb98-60" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"SE"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-61"><a href="#cb98-61" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"E"</span>] <span class="ot">&lt;-</span> <span class="st">"E"</span></span>
<span id="cb98-62"><a href="#cb98-62" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"SSE"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-63"><a href="#cb98-63" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"SSW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-64"><a href="#cb98-64" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"SW"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-65"><a href="#cb98-65" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"S"</span>] <span class="ot">&lt;-</span> <span class="st">"S"</span></span>
<span id="cb98-66"><a href="#cb98-66" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"WSW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-67"><a href="#cb98-67" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"WNW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-68"><a href="#cb98-68" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"NW"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-69"><a href="#cb98-69" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[rain_df<span class="sc">$</span>WindGustDir <span class="sc">==</span> <span class="st">"W"</span>] <span class="ot">&lt;-</span> <span class="st">"W"</span></span>
<span id="cb98-70"><a href="#cb98-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-71"><a href="#cb98-71" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Date Location MinTemp MaxTemp Rainfall Evaporation Sunshine
74372 2017-06-19   Darwin    21.9    33.0        0         5.2     10.9
74373 2017-06-20   Darwin    19.3    33.4        0         6.0     11.0
74374 2017-06-21   Darwin    21.2    32.6        0         7.6      8.6
74375 2017-06-22   Darwin    20.7    32.8        0         5.6     11.0
74376 2017-06-23   Darwin    19.5    31.8        0         6.2     10.6
74377 2017-06-24   Darwin    20.2    31.7        0         5.6     10.7
      WindGustDir WindGustSpeed WindDir9am WindDir3pm WindSpeed9am WindSpeed3pm
74372           E            44          E          E           15           19
74373           E            35          E          N            9           20
74374           E            37          E          E           13           11
74375           E            33          E          W           17           11
74376           E            26          E          N            9           17
74377           E            30          E          N           15            7
      Humidity9am Humidity3pm Pressure9am Pressure3pm Cloud9am Cloud3pm Temp9am
74372          43          28      1014.6      1010.6        1        1    25.1
74373          63          32      1013.9      1010.5        0        1    24.5
74374          56          28      1014.6      1011.2        7        0    24.8
74375          46          23      1015.3      1011.8        0        0    24.8
74376          62          58      1014.9      1010.7        1        1    24.8
74377          73          32      1013.9      1009.7        6        5    25.4
      Temp3pm RainToday RainTomorrow
74372    32.7        No            0
74373    32.3        No            0
74374    32.0        No            0
74375    32.1        No            0
74376    29.2        No            0
74377    31.0        No            0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filling NA with mode</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>Mode <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  ux <span class="ot">&lt;-</span> <span class="fu">unique</span>(x)</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  ux[<span class="fu">which.max</span>(<span class="fu">tabulate</span>(<span class="fu">match</span>(x, ux)))]</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir9am[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindDir9am)] <span class="ot">&lt;-</span> <span class="fu">Mode</span>(rain_df<span class="sc">$</span>WindDir9am)</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindDir3pm[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindDir3pm)] <span class="ot">&lt;-</span> <span class="fu">Mode</span>(rain_df<span class="sc">$</span>WindDir3pm)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindGustDir[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>WindGustDir)] <span class="ot">&lt;-</span> <span class="fu">Mode</span>(rain_df<span class="sc">$</span>WindGustDir)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="handling-date" class="level2">
<h2 class="anchored" data-anchor-id="handling-date">2.7. Handling Date</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_distinct</span>(rain_df<span class="sc">$</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3436</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change into datetime format in order to extarct month.</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(rain_df<span class="sc">$</span>Date)</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">month</span>(rain_df<span class="sc">$</span>Date)</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rain_df)[<span class="fu">names</span>(rain_df) <span class="sc">==</span> <span class="st">"Date"</span>] <span class="ot">&lt;-</span> <span class="st">"Month"</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Month Location MinTemp MaxTemp Rainfall Evaporation Sunshine WindGustDir
74372     6   Darwin    21.9    33.0        0         5.2     10.9           E
74373     6   Darwin    19.3    33.4        0         6.0     11.0           E
74374     6   Darwin    21.2    32.6        0         7.6      8.6           E
74375     6   Darwin    20.7    32.8        0         5.6     11.0           E
74376     6   Darwin    19.5    31.8        0         6.2     10.6           E
74377     6   Darwin    20.2    31.7        0         5.6     10.7           E
      WindGustSpeed WindDir9am WindDir3pm WindSpeed9am WindSpeed3pm Humidity9am
74372            44          E          E           15           19          43
74373            35          E          N            9           20          63
74374            37          E          E           13           11          56
74375            33          E          W           17           11          46
74376            26          E          N            9           17          62
74377            30          E          N           15            7          73
      Humidity3pm Pressure9am Pressure3pm Cloud9am Cloud3pm Temp9am Temp3pm
74372          28      1014.6      1010.6        1        1    25.1    32.7
74373          32      1013.9      1010.5        0        1    24.5    32.3
74374          28      1014.6      1011.2        7        0    24.8    32.0
74375          23      1015.3      1011.8        0        0    24.8    32.1
74376          58      1014.9      1010.7        1        1    24.8    29.2
74377          32      1013.9      1009.7        6        5    25.4    31.0
      RainToday RainTomorrow
74372        No            0
74373        No            0
74374        No            0
74375        No            0
74376        No            0
74377        No            0</code></pre>
</div>
</div>
</section>
</section>
<section id="selecting-features" class="level1">
<h1>3. Selecting Features</h1>
<section id="creating-new-numerical-variables" class="level2">
<h2 class="anchored" data-anchor-id="creating-new-numerical-variables">3.1. Creating new numerical variables</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating delta varibles to check if changes in relation to data for example: change of wind speed from 9am to 3pm has impact on 'raintommorow' prediction</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>DeltaWindSpeed <span class="ot">&lt;-</span> rain_df<span class="sc">$</span>WindSpeed3pm <span class="sc">-</span> rain_df<span class="sc">$</span>WindSpeed9am</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>DeltaHumidity <span class="ot">&lt;-</span> rain_df<span class="sc">$</span>Humidity3pm <span class="sc">-</span> rain_df<span class="sc">$</span>Humidity9am</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>DeltaPressure <span class="ot">&lt;-</span> rain_df<span class="sc">$</span>Pressure3pm <span class="sc">-</span> rain_df<span class="sc">$</span>Pressure9am</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>DeltaCloud <span class="ot">&lt;-</span> rain_df<span class="sc">$</span>Cloud3pm <span class="sc">-</span> rain_df<span class="sc">$</span>Cloud9am</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Month Location MinTemp MaxTemp Rainfall Evaporation Sunshine WindGustDir
74372     6   Darwin    21.9    33.0        0         5.2     10.9           E
74373     6   Darwin    19.3    33.4        0         6.0     11.0           E
74374     6   Darwin    21.2    32.6        0         7.6      8.6           E
74375     6   Darwin    20.7    32.8        0         5.6     11.0           E
74376     6   Darwin    19.5    31.8        0         6.2     10.6           E
74377     6   Darwin    20.2    31.7        0         5.6     10.7           E
      WindGustSpeed WindDir9am WindDir3pm WindSpeed9am WindSpeed3pm Humidity9am
74372            44          E          E           15           19          43
74373            35          E          N            9           20          63
74374            37          E          E           13           11          56
74375            33          E          W           17           11          46
74376            26          E          N            9           17          62
74377            30          E          N           15            7          73
      Humidity3pm Pressure9am Pressure3pm Cloud9am Cloud3pm Temp9am Temp3pm
74372          28      1014.6      1010.6        1        1    25.1    32.7
74373          32      1013.9      1010.5        0        1    24.5    32.3
74374          28      1014.6      1011.2        7        0    24.8    32.0
74375          23      1015.3      1011.8        0        0    24.8    32.1
74376          58      1014.9      1010.7        1        1    24.8    29.2
74377          32      1013.9      1009.7        6        5    25.4    31.0
      RainToday RainTomorrow DeltaWindSpeed DeltaHumidity DeltaPressure
74372        No            0              4           -15          -4.0
74373        No            0             11           -31          -3.4
74374        No            0             -2           -28          -3.4
74375        No            0             -6           -23          -3.5
74376        No            0              8            -4          -4.2
74377        No            0             -8           -41          -4.2
      DeltaCloud
74372          0
74373          1
74374         -7
74375          0
74376          0
74377         -1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Looking for correlation with the 'RainTommorow' to pick the best attributes</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>Num_rain_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(rain_df<span class="sc">$</span>Month, rain_df<span class="sc">$</span>MinTemp, rain_df<span class="sc">$</span>MaxTemp, rain_df<span class="sc">$</span>Rainfall, rain_df<span class="sc">$</span>Evaporation, rain_df<span class="sc">$</span>Sunshine, rain_df<span class="sc">$</span>WindGustSpeed, rain_df<span class="sc">$</span>WindSpeed9am, rain_df<span class="sc">$</span>WindSpeed3pm, rain_df<span class="sc">$</span>Humidity9am, rain_df<span class="sc">$</span>Humidity3pm, rain_df<span class="sc">$</span>Pressure9am, rain_df<span class="sc">$</span>Pressure3pm, rain_df<span class="sc">$</span>Cloud9am, rain_df<span class="sc">$</span>Cloud3pm, rain_df<span class="sc">$</span>Temp9am, rain_df<span class="sc">$</span>Temp3pm, rain_df<span class="sc">$</span>RainTomorrow, rain_df<span class="sc">$</span>DeltaWindSpeed, rain_df<span class="sc">$</span>DeltaHumidity, rain_df<span class="sc">$</span>DeltaPressure, rain_df<span class="sc">$</span>DeltaCloud) </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(Num_rain_df[, <span class="fu">colnames</span>(Num_rain_df) <span class="sc">!=</span><span class="st">"RainTomorrow"</span>], Num_rain_df<span class="sc">$</span>rain_df.RainTomorrow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                               [,1]
rain_df.Month           0.010489571
rain_df.MinTemp         0.076784501
rain_df.MaxTemp        -0.161219235
rain_df.Rainfall        0.259304203
rain_df.Evaporation    -0.132726683
rain_df.Sunshine       -0.450768063
rain_df.WindGustSpeed   0.227080260
rain_df.WindSpeed9am    0.085647235
rain_df.WindSpeed3pm    0.089735509
rain_df.Humidity9am     0.263618992
rain_df.Humidity3pm     0.446296092
rain_df.Pressure9am    -0.262674216
rain_df.Pressure3pm    -0.238320816
rain_df.Cloud9am        0.304598027
rain_df.Cloud3pm        0.367823067
rain_df.Temp9am        -0.031518458
rain_df.Temp3pm        -0.195776190
rain_df.RainTomorrow    1.000000000
rain_df.DeltaWindSpeed  0.003678791
rain_df.DeltaHumidity   0.261290262
rain_df.DeltaPressure   0.093695611
rain_df.DeltaCloud      0.044685159</code></pre>
</div>
</div>
<p>Most correlated more than <strong>0.09</strong> with <strong>RainTommorow</strong>:</p>
<p><strong>Sunshine, Pressure9am, Pressure3pm, Temp3pm, MaxTemp, Evaporation, WindGustSpeed, Rainfall, Cloud9am, Humidity9am, DeltaHumidity, Cloud3pm, Humidity3pm, DeltaPressure.</strong></p>
</section>
<section id="creating-new-categorical-variable" class="level2">
<h2 class="anchored" data-anchor-id="creating-new-categorical-variable">3.2. Creating new categorical variable</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Like the previous case but with categorical data creating the variable to investigate relation of change in wind direction to the 'RainTommorow'</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>WindChange <span class="ot">&lt;-</span> <span class="fu">paste</span>(rain_df<span class="sc">$</span>WindDir3pm, rain_df<span class="sc">$</span>WindDir9am, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df<span class="sc">$</span>WindChange)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "EE" "NE" "EE" "WE" "NE" "NE"</code></pre>
</div>
</div>
</section>
<section id="investigating-object-typed-attribute-distribution" class="level2">
<h2 class="anchored" data-anchor-id="investigating-object-typed-attribute-distribution">3.3. Investigating object-typed attribute distribution</h2>
<p>#<code>{r} pie()</code></p>
<p>#<code>{r} pie(WindDir9am ~ RainTomorrow, data = rain_df)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace objects Yes with 1 and No with 0</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>rain_df[<span class="st">"RainToday"</span>][rain_df[<span class="st">"RainToday"</span>] <span class="sc">==</span> <span class="st">"Yes"</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>rain_df[<span class="st">"RainToday"</span>][rain_df[<span class="st">"RainToday"</span>] <span class="sc">==</span> <span class="st">"No"</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>RainToday <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(rain_df<span class="sc">$</span>RainToday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: pojawiły się wartości NA na skutek przekształcenia</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>rain_df<span class="sc">$</span>RainToday[<span class="fu">is.na</span>(rain_df<span class="sc">$</span>RainToday)] <span class="ot">&lt;-</span> <span class="fu">Mode</span>(rain_df<span class="sc">$</span>RainToday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="r-change-all-variables-into-numerical-to-check-correlation-added-part-rain_dfwinddir9amrain_dfwinddir9am-n---1-rain_dfwinddir9amrain_dfwinddir9am-e---10-rain_dfwinddir9amrain_dfwinddir9am-s---100-rain_dfwinddir9amrain_dfwinddir9am-w---1000-rain_dfwinddir9amrain_dfwinddir9am-n---1-rain_dfwinddir9amrain_dfwinddir9am-e---10-rain_dfwinddir9amrain_dfwinddir9am-s---100-rain_dfwinddir9amrain_dfwinddir9am-w---1000-rain_dfwinddir3pmrain_dfwinddir3pm-n---1-rain_dfwinddir3pmrain_dfwinddir3pm-e---10-rain_dfwinddir3pmrain_dfwinddir3pm-s---100-rain_dfwinddir3pmrain_dfwinddir3pm-w---1000-rain_dfwindgustdirrain_dfwindgustdir-n---1-rain_dfwindgustdirrain_dfwindgustdir-e---10-rain_dfwindgustdirrain_dfwindgustdir-s---100-rain_dfwindgustdirrain_dfwindgustdir-w---1000-rain_dfwindgustdir---as.numericrain_dfwindgustdir-rain_dfwinddir9am---as.numericrain_dfwinddir9am-rain_dfwinddir3pm---as.numericrain_dfwinddir3pm-rain_dfwindgustspeed---as.numericrain_dfwindgustspeed-rain_dfhumidity3pm---as.numericrain_dfhumidity3pm-rain_dfhumidity9am---as.numericrain_dfhumidity9am-rain_dfwindspeed3pm---as.numericrain_dfwindspeed3pm-rain_dfwindspeed9am---as.numericrain_dfwindspeed9am-rain_dfcloud3pm---as.numericrain_dfcloud3pm-rain_dfcloud9am---as.numericrain_dfcloud9am" class="level1">
<h1><code>{r} # #Change all variables into numerical to check correlation **added part** #  # rain_df$WindDir9am[rain_df$WindDir9am == "N"] &lt;- 1 # rain_df$WindDir9am[rain_df$WindDir9am == "E"] &lt;- 10 # rain_df$WindDir9am[rain_df$WindDir9am == "S"] &lt;- 100 # rain_df$WindDir9am[rain_df$WindDir9am == "W"] &lt;- 1000 #  # rain_df$WindDir9am[rain_df$WindDir9am == "N"] &lt;- 1 # rain_df$WindDir9am[rain_df$WindDir9am == "E"] &lt;- 10 # rain_df$WindDir9am[rain_df$WindDir9am == "S"] &lt;- 100 # rain_df$WindDir9am[rain_df$WindDir9am == "W"] &lt;- 1000 #  # rain_df$WindDir3pm[rain_df$WindDir3pm == "N"] &lt;- 1 # rain_df$WindDir3pm[rain_df$WindDir3pm == "E"] &lt;- 10 # rain_df$WindDir3pm[rain_df$WindDir3pm == "S"] &lt;- 100 # rain_df$WindDir3pm[rain_df$WindDir3pm == "W"] &lt;- 1000 #  # rain_df$WindGustDir[rain_df$WindGustDir == "N"] &lt;- 1 # rain_df$WindGustDir[rain_df$WindGustDir == "E"] &lt;- 10 # rain_df$WindGustDir[rain_df$WindGustDir == "S"] &lt;- 100 # rain_df$WindGustDir[rain_df$WindGustDir == "W"] &lt;- 1000 #  # rain_df$WindGustDir &lt;- as.numeric(rain_df$WindGustDir) # rain_df$WindDir9am &lt;- as.numeric(rain_df$WindDir9am) # rain_df$WindDir3pm &lt;- as.numeric(rain_df$WindDir3pm) # rain_df$WindGustSpeed &lt;- as.numeric(rain_df$WindGustSpeed) # rain_df$Humidity3pm &lt;- as.numeric(rain_df$Humidity3pm) # rain_df$Humidity9am &lt;- as.numeric(rain_df$Humidity9am) # rain_df$WindSpeed3pm &lt;- as.numeric(rain_df$WindSpeed3pm) # rain_df$WindSpeed9am &lt;- as.numeric(rain_df$WindSpeed9am) # rain_df$Cloud3pm &lt;- as.numeric(rain_df$Cloud3pm) # rain_df$Cloud9am &lt;- as.numeric(rain_df$Cloud9am) #  #</code></h1>
<section id="final-feature-selection" class="level2">
<h2 class="anchored" data-anchor-id="final-feature-selection">3.4. Final feature selection</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Select best features</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>rain_df_selected <span class="ot">&lt;-</span> rain_df[,<span class="fu">c</span>(<span class="st">"Month"</span>,<span class="st">"RainTomorrow"</span>,<span class="st">"Sunshine"</span>,<span class="st">"Pressure9am"</span>,<span class="st">"Pressure3pm"</span>,<span class="st">"Temp3pm"</span>,<span class="st">"MaxTemp"</span>,<span class="st">"WindGustSpeed"</span>,<span class="st">"Rainfall"</span>,<span class="st">"Cloud9am"</span>,<span class="st">"Humidity9am"</span>,<span class="st">"DeltaHumidity"</span>,<span class="st">"Cloud3pm"</span>,<span class="st">"Evaporation"</span>,<span class="st">"RainToday"</span>,<span class="st">"Humidity3pm"</span>,<span class="st">"DeltaPressure"</span>,<span class="st">"WindGustDir"</span>,<span class="st">"WindChange"</span>)]</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df_selected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Month RainTomorrow Sunshine Pressure9am Pressure3pm Temp3pm MaxTemp
74372     6            0     10.9      1014.6      1010.6    32.7    33.0
74373     6            0     11.0      1013.9      1010.5    32.3    33.4
74374     6            0      8.6      1014.6      1011.2    32.0    32.6
74375     6            0     11.0      1015.3      1011.8    32.1    32.8
74376     6            0     10.6      1014.9      1010.7    29.2    31.8
74377     6            0     10.7      1013.9      1009.7    31.0    31.7
      WindGustSpeed Rainfall Cloud9am Humidity9am DeltaHumidity Cloud3pm
74372            44        0        1          43           -15        1
74373            35        0        0          63           -31        1
74374            37        0        7          56           -28        0
74375            33        0        0          46           -23        0
74376            26        0        1          62            -4        1
74377            30        0        6          73           -41        5
      Evaporation RainToday Humidity3pm DeltaPressure WindGustDir WindChange
74372         5.2         0          28          -4.0           E         EE
74373         6.0         0          32          -3.4           E         NE
74374         7.6         0          28          -3.4           E         EE
74375         5.6         0          23          -3.5           E         WE
74376         6.2         0          58          -4.2           E         NE
74377         5.6         0          32          -4.2           E         NE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Look for correlation between features</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>cor_df <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">cor</span>(rain_df_selected[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">18</span>,<span class="dv">19</span>)]), <span class="dv">2</span>)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>m_cor_df <span class="ot">&lt;-</span> <span class="fu">melt</span>(cor_df)</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> m_cor_df, <span class="fu">aes</span>(<span class="at">x=</span>Var1, <span class="at">y=</span>Var2, <span class="at">fill=</span>value)) <span class="sc">+</span> <span class="fu">geom_tile</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> value), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"darkred"</span>, <span class="at">high =</span> <span class="st">"red"</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Strong correlation:</p>
<p><strong>Pressure9am</strong> and <strong>Pressure3pm</strong></p>
<p><strong>MaxTemp</strong> and <strong>Temp3pm</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Drop features with strong correlation</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>rain_df_selected <span class="ot">&lt;-</span> rain_df_selected[<span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>rain_df_selected <span class="ot">&lt;-</span> rain_df_selected[<span class="sc">-</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check selected data</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(rain_df_selected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Month RainTomorrow Sunshine Pressure3pm MaxTemp WindGustSpeed Rainfall
74372     6            0     10.9      1010.6    33.0            44        0
74373     6            0     11.0      1010.5    33.4            35        0
74374     6            0      8.6      1011.2    32.6            37        0
74375     6            0     11.0      1011.8    32.8            33        0
74376     6            0     10.6      1010.7    31.8            26        0
74377     6            0     10.7      1009.7    31.7            30        0
      Cloud9am Humidity9am DeltaHumidity Cloud3pm Evaporation RainToday
74372        1          43           -15        1         5.2         0
74373        0          63           -31        1         6.0         0
74374        7          56           -28        0         7.6         0
74375        0          46           -23        0         5.6         0
74376        1          62            -4        1         6.2         0
74377        6          73           -41        5         5.6         0
      Humidity3pm DeltaPressure WindGustDir WindChange
74372          28          -4.0           E         EE
74373          32          -3.4           E         NE
74374          28          -3.4           E         EE
74375          23          -3.5           E         WE
74376          58          -4.2           E         NE
74377          32          -4.2           E         NE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Check again for strong correlation between features</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>cor_df <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">cor</span>(rain_df_selected[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">16</span>,<span class="dv">17</span>)]), <span class="dv">2</span>)</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>m_cor_df <span class="ot">&lt;-</span> <span class="fu">melt</span>(cor_df)</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> m_cor_df, <span class="fu">aes</span>(<span class="at">x=</span>Var1, <span class="at">y=</span>Var2, <span class="at">fill=</span>value)) <span class="sc">+</span> <span class="fu">geom_tile</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> value), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"darkred"</span>, <span class="at">high =</span> <span class="st">"red"</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="project_RR_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="balancing-and-standarizing" class="level1">
<h1>4. Balancing and Standarizing</h1>
<p>First of all, we will be using SMOTE_NC (version of SMOTE which can use categorical variables) to rebalance our datasets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>categorical <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Month"</span>,<span class="st">"RainTomorrow"</span>,<span class="st">"RainToday"</span>,<span class="st">"WindGustDir"</span>,<span class="st">"WindChange"</span>)</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>rain_df_selected[,categorical] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(rain_df_selected[,categorical],factor)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>data_selected<span class="ot">&lt;-</span><span class="fu">SMOTE_NC</span>(rain_df_selected,<span class="st">"RainTomorrow"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we will create dummy variables for our nonbinary categorical variables (k-1 dummy variables for factors with k levels, this wasn’t done in jupyter notebook code, but it should have been):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>data_selected<span class="ot">&lt;-</span><span class="fu">dummy_cols</span>(data_selected, <span class="at">select_columns =</span> <span class="fu">c</span>(<span class="st">"Month"</span>,<span class="st">"WindChange"</span>,<span class="st">"WindGustDir"</span>), <span class="at">remove_first_dummy =</span> <span class="cn">TRUE</span>, <span class="at">remove_selected_columns =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we sould standarize our data. We will use min-max scaler for it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>process <span class="ot">&lt;-</span> <span class="fu">preProcess</span>(data_selected, <span class="at">method=</span><span class="fu">c</span>(<span class="st">"range"</span>))</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>data_selected_normalized <span class="ot">&lt;-</span> <span class="fu">predict</span>(process, data_selected)</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">14</span>)</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">colnames</span>(data_selected_normalized[i]))</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">mean</span>(data_selected_normalized[,i]))</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sunshine"
[1] 0.4486211
[1] "Pressure3pm"
[1] 0.5970399
[1] "MaxTemp"
[1] 0.4294537
[1] "WindGustSpeed"
[1] 0.5156618
[1] "Rainfall"
[1] 0.04613298
[1] "Cloud9am"
[1] 0.5353899
[1] "Humidity9am"
[1] 0.7016435
[1] "DeltaHumidity"
[1] 0.4239025
[1] "Cloud3pm"
[1] 0.5507304
[1] "Evaporation"
[1] 0.3648385
[1] "RainToday"
[1] NA
[1] "Humidity3pm"
[1] 0.5631237
[1] "DeltaPressure"
[1] 0.5178601</code></pre>
</div>
</div>
<p>Mean values are not the same as in the jupyter notebook Python code, most probably it is due to the fact, that SMOTE_NC function works in slightly different way - sill changes are a magnitude of <span class="math inline">\(10^{-4}\)</span>.</p>
</section>
<section id="split-train-and-test" class="level1">
<h1>5. Split train and test</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">111</span>)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>split1<span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(data_selected_normalized),<span class="fu">floor</span>(<span class="fu">nrow</span>(data_selected_normalized)<span class="sc">*</span><span class="fl">0.7</span>),<span class="at">replace=</span><span class="cn">FALSE</span>)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> data_selected_normalized[split1,]</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> data_selected_normalized[<span class="sc">-</span>split1,]</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       RainTomorrow  Sunshine Pressure3pm   MaxTemp WindGustSpeed    Rainfall
113147            1 0.1226700   0.4397551 0.5884670     0.5032414 0.332583777
99283             1 0.7148702   0.5054589 0.6526518     0.4961240 0.000000000
27417             0 0.6000000   0.6488673 0.5795455     0.3720930 0.000000000
34885             0 0.4413793   0.7491909 0.2227273     0.1240310 0.002666667
6140              0 0.5931034   0.5469256 0.4000000     0.5271318 0.002666667
104218            1 0.4987047   0.5531000 0.3767552     0.4881579 0.000000000
        Cloud9am Humidity9am DeltaHumidity  Cloud3pm Evaporation RainToday
113147 0.7491523   0.8152456     0.5233858 0.8602635  0.44274728         1
99283  0.2396227   0.6008339     0.4869583 0.5798586  0.46670459         0
27417  0.7777778   0.5500000     0.3351648 0.7777778  0.90225564         0
34885  0.4749152   0.9900000     0.3791209 0.4828924  0.04511278         0
6140   0.4444444   0.7000000     0.4560440 0.4828924  0.48120301         0
104218 0.4669468   0.9397236     0.2983179 0.4597751  0.06567602         0
       Humidity3pm DeltaPressure Month_2 Month_3 Month_4 Month_5 Month_6
113147   0.8648757     0.5045742       0       0       0       0       0
99283    0.6004170     0.4755334       0       0       0       0       0
27417    0.2500000     0.5340595       0       0       0       0       0
34885    0.7700000     0.5168567       0       0       0       1       0
6140     0.6200000     0.5082553       0       0       0       0       0
104218   0.5770614     0.5130999       0       0       0       0       0
       Month_7 Month_8 Month_9 Month_10 Month_11 Month_12 WindChange_EN
113147       0       0       0        0        0        0             0
99283        0       0       0        0        1        0             0
27417        0       0       0        0        0        0             0
34885        0       0       0        0        0        0             0
6140         0       0       0        0        1        0             0
104218       0       0       0        1        0        0             0
       WindChange_ES WindChange_EW WindChange_NE WindChange_NN WindChange_NS
113147             0             0             0             0             0
99283              0             0             1             0             0
27417              0             0             0             0             0
34885              0             0             0             0             0
6140               0             0             0             0             0
104218             0             0             0             0             0
       WindChange_NW WindChange_SE WindChange_SN WindChange_SS WindChange_SW
113147             0             0             0             0             0
99283              0             0             0             0             0
27417              0             1             0             0             0
34885              0             0             0             0             0
6140               0             0             0             0             0
104218             0             0             0             0             0
       WindChange_WE WindChange_WN WindChange_WS WindChange_WW WindGustDir_N
113147             0             0             0             1             0
99283              0             0             0             0             0
27417              0             0             0             0             0
34885              0             1             0             0             1
6140               0             0             1             0             0
104218             0             1             0             0             0
       WindGustDir_S WindGustDir_W
113147             0             1
99283              0             0
27417              0             0
34885              0             0
6140               0             1
104218             0             1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>y_test<span class="ot">=</span>test[,<span class="dv">1</span>]</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>x_test<span class="ot">=</span>test[,<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logistic-regression" class="level1">
<h1>6. Logistic Regression</h1>
<p>First, let’s count null accuracy in the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    0     1 
57556 16821 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Null accuracy in the data:"</span>, <span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">+</span><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">2</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Null accuracy in the data: 0.7738414</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>logistic_reg <span class="ot">&lt;-</span> <span class="fu">glm</span>(RainTomorrow<span class="sc">~</span>.,<span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),<span class="at">data=</span>train)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>predicted <span class="ot">&lt;-</span> <span class="fu">predict</span>(logistic_reg, <span class="at">newdata =</span> test, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>predicted<span class="ot">&lt;-</span><span class="fu">round</span>(predicted)</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(y_test,predicted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      predicted
y_test     0     1
     0 13879  3364
     1  3421 13870</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Accuracy of the model:"</span>,<span class="fu">Accuracy</span>(predicted,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Accuracy of the model: 0.803527 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Recall of the model:"</span>,<span class="fu">Recall</span>(y_test,predicted),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recall of the model: 0.8049063 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Precision of the model"</span>,<span class="fu">Precision</span>(y_test,predicted),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision of the model 0.8022543 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"ROC AUC of the model:"</span>,<span class="fu">AUC</span>(y_test,predicted),<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ROC AUC of the model: 0.8035294 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Accuracy scores in training set, test set and null accuracy: </span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy scores in training set, test set and null accuracy: </code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Training set:"</span>,<span class="fu">Accuracy</span>(<span class="fu">round</span>(<span class="fu">predict</span>(logistic_reg, <span class="at">newdata =</span> train, <span class="at">type =</span> <span class="st">"response"</span>)),train[<span class="dv">1</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Training set: 0.8041897 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Test set:"</span>,<span class="fu">Accuracy</span>(predicted,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Test set: 0.803527 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Null:"</span>, <span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">+</span><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">2</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Null: 0.7738414 </code></pre>
</div>
</div>
<p>We won’t be doing hyperparameter tuning for logistic regression, as there is not much it could be done.</p>
</section>
<section id="svc" class="level1">
<h1>7. SVC</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>SVM_model <span class="ot">&lt;-</span> <span class="fu">svm</span>(RainTomorrow<span class="sc">~</span>., <span class="at">data=</span>train)</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>predicted_SVM_model <span class="ot">&lt;-</span> <span class="fu">predict</span>(SVM_model, <span class="at">newdata =</span> test, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a>predict_SVM_model_train <span class="ot">&lt;-</span> <span class="fu">predict</span>(SVM_model, <span class="at">newdata =</span> train, <span class="at">type=</span><span class="st">"response"</span>)</span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(predicted_SVM_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 5  8 15 16 18 21 
 0  0  0  0  0  1 
Levels: 0 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(y_test,predicted_SVM_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      predicted_SVM_model
y_test     0     1
     0 14097  3146
     1  2553 14738</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Accuracy of the model:"</span>,<span class="fu">Accuracy</span>(predicted_SVM_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Accuracy of the model: 0.8349742 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Recall of the model:"</span>,<span class="fu">Recall</span>(y_test,predicted_SVM_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recall of the model: 0.8175492 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Precision of the model"</span>,<span class="fu">Precision</span>(y_test,predicted_SVM_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision of the model 0.8466667 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"ROC AUC of the model:"</span>,<span class="fu">AUC</span>(y_test,predicted_SVM_model),<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ROC AUC of the model: 0.8353776 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Accuracy scores in training set, test set and null accuracy: </span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy scores in training set, test set and null accuracy: </code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Training set:"</span>,<span class="fu">Accuracy</span>(predict_SVM_model_train,train[,<span class="dv">1</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Training set: 0.8493013 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Test set:"</span>,<span class="fu">Accuracy</span>(predicted_SVM_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Test set: 0.8349742 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Null:"</span>, <span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">+</span><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">2</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Null: 0.7738414 </code></pre>
</div>
</div>
<p>We won’t be doing CV and hyperparameter tuning for SVM model, due to very long training time (several hours, we couldn’t find good package, which would work faster).</p>
</section>
<section id="random-forest" class="level1">
<h1>8. Random Forest</h1>
<p>We will use Random Forest model with similar hyperparameters as in the Jupyter Notebook code (we don’t have exact set of hyperparameters, so we will use what there is, also we will use smaller number of cross validation, because R is less optimal than python and the evaluation is much longer).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>RF_trControl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number=</span><span class="dv">4</span>,<span class="at">savePredictions=</span><span class="st">"final"</span>)</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>RF_tuneGrid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">mtry=</span><span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">32</span>),</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">splitrule=</span><span class="fu">c</span>(<span class="st">"gini"</span>,<span class="st">"extratrees"</span>),</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">min.node.size=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tic</span>()</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>RF_model <span class="ot">&lt;-</span> <span class="fu">train</span>(RainTomorrow<span class="sc">~</span>.,</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data=</span>train,<span class="at">method=</span><span class="st">"ranger"</span>,</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">trControl=</span>RF_trControl, </span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">tuneGrid=</span>RF_tuneGrid,</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">verbose=</span><span class="cn">FALSE</span>)</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a><span class="fu">toc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>765.48 sec elapsed</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>predicted_RF_model<span class="ot">&lt;-</span><span class="fu">predict</span>(RF_model,<span class="at">newdata =</span> test, <span class="at">type=</span><span class="st">"raw"</span>)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>predicted_RF_model_train<span class="ot">&lt;-</span><span class="fu">predict</span>(RF_model,<span class="at">newdata =</span> train, <span class="at">type=</span><span class="st">"raw"</span>)</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(y_test,predicted_RF_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      predicted_RF_model
y_test     0     1
     0 15293  1950
     1  1528 15763</code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>RF_model<span class="sc">$</span>results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   mtry  splitrule min.node.size  Accuracy     Kappa   AccuracySD     KappaSD
1    15       gini             1 0.8942516 0.7885057 0.0016053352 0.003210128
2    15       gini             3 0.8933828 0.7867679 0.0012902961 0.002580447
3    15 extratrees             1 0.8797315 0.7594688 0.0016442228 0.003287731
4    15 extratrees             3 0.8779319 0.7558699 0.0011083782 0.002216255
5    20       gini             1 0.8928119 0.7856262 0.0025847968 0.005169256
6    20       gini             3 0.8928492 0.7857006 0.0018251969 0.003650018
7    20 extratrees             1 0.8812828 0.7625716 0.0012414583 0.002482084
8    20 extratrees             3 0.8793839 0.7587738 0.0015047843 0.003009233
9    30       gini             1 0.8909628 0.7819276 0.0019271966 0.003853955
10   30       gini             3 0.8900320 0.7800660 0.0020897137 0.004179015
11   30 extratrees             1 0.8818288 0.7636641 0.0010249793 0.002049973
12   30 extratrees             3 0.8814317 0.7628695 0.0012582122 0.002516092
13   32       gini             1 0.8902802 0.7805624 0.0021488382 0.004297375
14   32       gini             3 0.8892750 0.7785518 0.0017720346 0.003543741
15   32 extratrees             1 0.8824865 0.7649794 0.0008725357 0.001744963
16   32 extratrees             3 0.8815558 0.7631179 0.0013321751 0.002663959</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>RF_model<span class="sc">$</span>bestTune</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mtry splitrule min.node.size
1   15      gini             1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Accuracy of the model:"</span>,<span class="fu">Accuracy</span>(predicted_RF_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Accuracy of the model: 0.8992877 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Recall of the model:"</span>,<span class="fu">Recall</span>(y_test,predicted_RF_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recall of the model: 0.8869106 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Precision of the model"</span>,<span class="fu">Precision</span>(y_test,predicted_RF_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision of the model 0.9091612 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"ROC AUC of the model:"</span>,<span class="fu">AUC</span>(y_test,predicted_RF_model),<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ROC AUC of the model: 0.8995363 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Accuracy scores in training set, test set and null accuracy: </span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy scores in training set, test set and null accuracy: </code></pre>
</div>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Training set:"</span>,<span class="fu">Accuracy</span>(predicted_RF_model_train,train[,<span class="dv">1</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Training set: 1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Test set:"</span>,<span class="fu">Accuracy</span>(predicted_RF_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Test set: 0.8992877 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Null:"</span>, <span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">+</span><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">2</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Null: 0.7738414 </code></pre>
</div>
</div>
<p>Overfitting in train data, or specification of this model.</p>
</section>
<section id="xgboost" class="level1">
<h1>9. xgboost</h1>
<p>We chose similar hyperparameters as in jupyter notebook code. We did full grid search in our hyperparameter grid.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>XGB_trControl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number=</span><span class="dv">4</span>,<span class="at">savePredictions=</span><span class="st">"final"</span>)</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a>XGB_tuneGrid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">nrounds=</span><span class="fu">c</span>(<span class="dv">150</span>,<span class="dv">200</span>,<span class="dv">225</span>,<span class="dv">250</span>),</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">max_depth=</span><span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>),</span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">eta=</span><span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.2</span>,<span class="fl">0.225</span>,<span class="fl">0.25</span>,<span class="fl">0.3</span>),</span>
<span id="cb195-6"><a href="#cb195-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">gamma=</span><span class="dv">0</span>,</span>
<span id="cb195-7"><a href="#cb195-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">colsample_bytree=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">0.75</span>,<span class="fl">0.7</span>),</span>
<span id="cb195-8"><a href="#cb195-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">min_child_weight=</span><span class="dv">1</span>,</span>
<span id="cb195-9"><a href="#cb195-9" aria-hidden="true" tabindex="-1"></a>                           <span class="at">subsample=</span><span class="dv">1</span>)</span>
<span id="cb195-10"><a href="#cb195-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-11"><a href="#cb195-11" aria-hidden="true" tabindex="-1"></a><span class="fu">tic</span>()</span>
<span id="cb195-12"><a href="#cb195-12" aria-hidden="true" tabindex="-1"></a>XGB_model <span class="ot">&lt;-</span> <span class="fu">train</span>(RainTomorrow<span class="sc">~</span>.,</span>
<span id="cb195-13"><a href="#cb195-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data=</span>train,<span class="at">method=</span><span class="st">"xgbTree"</span>,</span>
<span id="cb195-14"><a href="#cb195-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">trControl=</span>XGB_trControl, </span>
<span id="cb195-15"><a href="#cb195-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">tuneGrid=</span>XGB_tuneGrid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[02:28:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:28:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:28:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:28:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:28:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:28:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:29:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:05] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:05] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:05] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:37] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:37] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:37] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:44] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:44] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:44] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:30:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:16] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:23] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:39] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:31:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:02] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:08] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:08] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:08] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:11] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:11] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:11] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:18] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:34] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:47] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:47] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:47] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:32:57] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:00] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:13] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:20] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:24] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:24] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:24] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:36] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:40] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:40] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:40] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:46] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:49] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:52] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:55] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:59] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:59] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:33:59] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:03] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:06] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:09] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:12] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:15] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:19] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:22] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:22] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:22] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:35] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:35] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:35] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:38] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:45] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:48] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:51] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:54] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:34:58] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:01] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:01] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:01] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:04] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:07] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:10] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:14] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:17] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[02:35:21] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>429.1 sec elapsed</code></pre>
</div>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(XGB_model<span class="sc">$</span>bestTune)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   nrounds max_depth eta gamma colsample_bytree min_child_weight subsample
48     250         7 0.2     0              0.8                1         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>predicted_XGB_model<span class="ot">&lt;-</span><span class="fu">predict</span>(XGB_model,<span class="at">newdata =</span> test, <span class="at">type=</span><span class="st">"raw"</span>)</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>predicted_XGB_model_train<span class="ot">&lt;-</span><span class="fu">predict</span>(XGB_model,<span class="at">newdata =</span> train, <span class="at">type=</span><span class="st">"raw"</span>)</span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(y_test,predicted_XGB_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      predicted_XGB_model
y_test     0     1
     0 16054  1189
     1  2021 15270</code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Accuracy of the model:"</span>,<span class="fu">Accuracy</span>(predicted_XGB_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Accuracy of the model: 0.9070481 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Recall of the model:"</span>,<span class="fu">Recall</span>(y_test,predicted_XGB_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recall of the model: 0.9310445 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Precision of the model"</span>,<span class="fu">Precision</span>(y_test,predicted_XGB_model),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision of the model 0.8881881 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"ROC AUC of the model:"</span>,<span class="fu">AUC</span>(y_test,predicted_XGB_model),<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ROC AUC of the model: 0.907974 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Accuracy scores in training set, test set and null accuracy: </span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy scores in training set, test set and null accuracy: </code></pre>
</div>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Training set:"</span>,<span class="fu">Accuracy</span>(predicted_XGB_model_train,train[,<span class="dv">1</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Training set: 0.9590211 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Test set:"</span>,<span class="fu">Accuracy</span>(predicted_XGB_model,y_test),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Test set: 0.9070481 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Null:"</span>, <span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">1</span>]<span class="sc">+</span><span class="fu">table</span>(rain_df_selected[,<span class="dv">2</span>])[<span class="dv">2</span>]),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Null: 0.7738414 </code></pre>
</div>
</div>
<p>Little bit of overfitting, but similar to what we have in jupyter notebook results.</p>
</section>
<section id="conclusion" class="level1">
<h1>10. Conclusion</h1>
<p>MICHALS PART</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>